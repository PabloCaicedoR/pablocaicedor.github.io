---
title: "Laboratorio 004: Manipulacion de Im√°genes"
description: "PSIM"
subtitle: "Ingenier√≠a Biom√©dica"
lang: es
author: "Ph.D. Pablo Eduardo Caicedo Rodr√≠guez"
date: "`r Sys.Date()`"
format:
  html: 
    code-tools: true
    code-overflow: wrap
    code-line-numbers: true
    code-copy: true
    fig-align: center
    self-contained: true
    theme: 
      - simple
      - ../../recursos/estilos/metropolis.scss
    slide-number: true
    preview-links: auto
    logo: ../../recursos/imagenes/generales/Escuela_Rosario_logo.png
    css: ../../recursos/estilos/styles_pres.scss
    footer: <https://pablocaicedor.github.io/>
    transition: fade
    progress: true
    scrollable: true

resources:
  - demo.pdf
---

```{r}
#| echo: false
#| eval: true
#| output: false
#| label: Loading R-Libraries
# install.packages(c("DiagrammeR", "reticulate", "kableExtra", "tidyverse", "knitr", "cowplot", "ggfx"))
library("DiagrammeR")
library("reticulate")
library("kableExtra")
library("tidyverse")
library("knitr")
library("cowplot")
library("ggfx")
knitr::opts_chunk$set(echo = FALSE)

def.chunk.hook <- knitr::knit_hooks$get("chunk")
knitr::knit_hooks$set(chunk = function(x, options) {
    x <- def.chunk.hook(x, options)
    ifelse(options$size != "normalsize", paste0("\n \\", options$size, "\n\n", x, "\n\n \\normalsize"), x)
})
```

```{python}
#| echo: false
#| eval: true
#| output: false
#| label: Loading Python-Libraries

import numpy as np
import matplotlib.pyplot as plt
path_ecg="../../data"

#https://developer.nvidia.com/embedded/learn/get-started-jetson-nano-devkit#write

```

# üß™ Laboratorio: Codificaci√≥n de Informaci√≥n en Im√°genes Digitales

## üéØ Objetivos del laboratorio

- Comprender la estructura digital de una imagen como matriz de p√≠xeles.
- Aplicar t√©cnicas b√°sicas de manipulaci√≥n de im√°genes usando Python.
- Desarrollar funciones para codificar y decodificar informaci√≥n textual en im√°genes.
- Reflexionar sobre la importancia del procesamiento de im√°genes en aplicaciones biom√©dicas.

## üõ†Ô∏è Herramientas

- Lenguaje: Python 3
- Librer√≠as: opencv-python (cv2), numpy, matplotlib, pydicom.

## üî¨ Actividades comunes a todos los grupos

1. **Carga y visualizaci√≥n de im√°genes dicom**
2. **Conversi√≥n de texto a binario**
3. **Codificaci√≥n de bits en el canal de color**
4. **Recuperaci√≥n del mensaje codificado**
5. **Generaci√≥n de la imagen dicom**

## üîÄ Variantes del laboratorio por grupo

Cada grupo trabajar√° una variante distinta del laboratorio base. Esto garantiza diversidad de enfoques y evita el plagio entre equipos.

| Grupo | Variante asignada | Descripci√≥n |
|-------|--------------------|-------------|
| A | Canal rojo | Solo puede usar el canal rojo para codificar. |
| B | Orden inverso | El mensaje se codifica recorriendo los p√≠xeles en orden inverso. |
| C | Dos mensajes | Codifica dos mensajes distintos: uno en azul y otro en verde. |
| D | Compresi√≥n b√°sica | Comprime el mensaje antes de insertarlo. |
| E | Escala de grises | Utiliza im√°genes en escala de grises para codificaci√≥n. |
| F | Alto contraste | Solo se permite codificar en p√≠xeles con alto contraste respecto a sus vecinos. |
| G | Patr√≥n de ajedrez | El mensaje se codifica en p√≠xeles alternos como patr√≥n de ajedrez. |
| H | Tres bits | Se usan los tres bits menos significativos para codificar cada car√°cter. |
| I | Baja variabilidad local | El mensaje solo se codifica en zonas donde los valores de p√≠xel son muy similares entre vecinos. |

## üß† Ejercicio integrador

Codifica el siguiente mensaje dentro de una imagen asignada por el docente:  
`"Paciente Juan P√©rez, ID: 203911, ECG normal, sin antecedentes"`

Cada grupo deber√°:

- Entregar el c√≥digo Python funcional.
- Comparar la imagen original y la modificada.
- Recuperar correctamente el mensaje.
- Entregar un informe breve explicando el proceso y los retos del grupo.

## üìå Evaluaci√≥n

| Criterio | Puntaje |
|---------|---------|
| Manipulaci√≥n b√°sica de im√°genes | 20 pts |
| Codificaci√≥n y recuperaci√≥n funcional | 40 pts |
| Adaptaci√≥n a la variante del grupo | 30 pts |
| Informe t√©cnico claro y bien escrito | 10 pt |
| **Total** | **100 pts** |

## üí¨ Pregunta de reflexi√≥n

> ¬øQu√© aplicaciones biom√©dicas podr√≠an beneficiarse del ocultamiento de datos en im√°genes? Explica una situaci√≥n cl√≠nica concreta donde esta t√©cnica ser√≠a √∫til.
